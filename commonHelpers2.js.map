{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: \"\", message: \"\" };\n\nconst form = document.querySelector(\".feedback-form\");\nconst localStorageKey = \"feedback-form-state\";\n\nconst localStorageDataChecker = form => { \n    const formDataFromLs = JSON.parse(localStorage.getItem(localStorageKey));\n    if (formDataFromLs) {\n        for (const key in formDataFromLs) {\n            if (formDataFromLs.hasOwnProperty(key)) {\n                form.elements[key].value = formDataFromLs[key];\n                formData[key] = formDataFromLs[key];\n        }\n    }\n    }\n};\n\nlocalStorageDataChecker(form);\n\nform.addEventListener('input', event => {\n    const fieldName = event.target.name;\n    const fieldValue = event.target.value;\n    formData[fieldName] = fieldValue;\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n});\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n    if (!form.elements.email.value || !form.elements.message.value) {\n        alert(\"Fill please all fields\");\n        return;\n}\n    console.log(formData);\n\n    localStorage.removeItem(localStorageKey);\n    formData.email = \"\";\n    formData.message = \"\";\n    event.target.reset();\n });"],"names":["formData","form","localStorageKey","localStorageDataChecker","formDataFromLs","key","event","fieldName","fieldValue"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAElBC,EAA0BF,GAAQ,CACpC,MAAMG,EAAiB,KAAK,MAAM,aAAa,QAAQF,CAAe,CAAC,EACvE,GAAIE,EACA,UAAWC,KAAOD,EACVA,EAAe,eAAeC,CAAG,IACjCJ,EAAK,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,EAC7CL,EAASK,CAAG,EAAID,EAAeC,CAAG,EAIlD,EAEAF,EAAwBF,CAAI,EAE5BA,EAAK,iBAAiB,QAASK,GAAS,CACpC,MAAMC,EAAYD,EAAM,OAAO,KACzBE,EAAaF,EAAM,OAAO,MAChCN,EAASO,CAAS,EAAIC,EACtB,aAAa,QAAQN,EAAiB,KAAK,UAAUF,CAAQ,CAAC,CAClE,CAAC,EAEDC,EAAK,iBAAiB,SAAUK,GAAS,CAErC,GADAA,EAAM,eAAc,EAChB,CAACL,EAAK,SAAS,MAAM,OAAS,CAACA,EAAK,SAAS,QAAQ,MAAO,CAC5D,MAAM,wBAAwB,EAC9B,MACR,CACI,QAAQ,IAAID,CAAQ,EAEpB,aAAa,WAAWE,CAAe,EACvCF,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBM,EAAM,OAAO,OACjB,CAAE"}